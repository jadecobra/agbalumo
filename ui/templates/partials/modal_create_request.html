<dialog id="create-request-modal"
    class="backdrop:bg-black/50 bg-transparent p-0 w-full max-w-sm m-auto rounded-3xl shadow-2xl open:animate-in open:fade-in open:zoom-in-95 backdrop:animate-in backdrop:fade-in">
    <div
        class="bg-background-light dark:bg-background-dark p-6 rounded-3xl border border-green-100 dark:border-green-900 shadow-soft relative overflow-hidden">
        <!-- Decorative Background (Green theme for Requests) -->
        <div
            class="absolute top-0 right-0 w-32 h-32 bg-secondary/10 rounded-full blur-3xl -z-10 transform translate-x-10 -translate-y-10">
        </div>

        <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold text-text-main dark:text-white">Request Help</h3>
            <button data-modal-action="close" data-modal-id="create-request-modal"
                class="p-2 rounded-full hover:bg-stone-100 dark:hover:bg-stone-800 text-stone-500 transition-colors">
                <span class="material-symbols-outlined text-[20px]">close</span>
            </button>
        </div>

        <form hx-post="/listings" hx-swap="afterbegin transition:true" hx-target="#listings-container" method="POST"
            class="flex flex-col gap-4" autocomplete="off" data-modal-action-submit-close>

            <!-- Hidden Type -->
            <input type="hidden" name="type" value="Request">

            <!-- Origin -->
            <div class="flex flex-col gap-1.5">
                <label
                    class="text-xs font-bold uppercase tracking-wider text-text-sub dark:text-stone-400 ml-1">Origin</label>
                <select required name="owner_origin"
                    class="w-full bg-white dark:bg-surface-dark border border-stone-200 dark:border-stone-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-secondary/20 focus:border-secondary outline-none transition-all text-text-main dark:text-white appearance-none">
                    <option value="Nigeria" selected>Nigeria ğŸ‡³ğŸ‡¬</option>
                    <option value="Benin">Benin ğŸ‡§ğŸ‡¯</option>
                    <option value="Burkina Faso">Burkina Faso ğŸ‡§ğŸ‡«</option>
                    <option value="Cabo Verde">Cabo Verde ğŸ‡¨ğŸ‡»</option>
                    <option value="Cote d'Ivoire">CÃ´te d'Ivoire ğŸ‡¨ğŸ‡®</option>
                    <option value="Gambia">Gambia ğŸ‡¬ğŸ‡²</option>
                    <option value="Ghana">Ghana ğŸ‡¬ğŸ‡­</option>
                    <option value="Guinea">Guinea ğŸ‡¬ğŸ‡³</option>
                    <option value="Guinea-Bissau">Guinea-Bissau ğŸ‡¬ğŸ‡¼</option>
                    <option value="Liberia">Liberia ğŸ‡±ğŸ‡·</option>
                    <option value="Mali">Mali ğŸ‡²ğŸ‡±</option>
                    <option value="Mauritania">Mauritania ğŸ‡²ğŸ‡·</option>
                    <option value="Niger">Niger ğŸ‡³ğŸ‡ª</option>
                    <option value="Senegal">Senegal ğŸ‡¸ğŸ‡³</option>
                    <option value="Sierra Leone">Sierra Leone ğŸ‡¸ğŸ‡±</option>
                    <option value="Togo">Togo ğŸ‡¹ğŸ‡¬</option>
                    <option value="Other">Other ğŸŒ</option>
                </select>
            </div>

            <!-- Title -->
            <div class="flex flex-col gap-1.5">
                <label class="text-xs font-bold uppercase tracking-wider text-text-sub dark:text-stone-400 ml-1">What do
                    you need?</label>
                <input required name="title" type="text" placeholder="e.g., Looking for hair braider"
                    class="w-full bg-white dark:bg-surface-dark border border-stone-200 dark:border-stone-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-secondary/20 focus:border-secondary outline-none transition-all placeholder:text-stone-400 text-text-main dark:text-white">
            </div>



            <!-- Deadline (Required for Requests) -->
            <div class="flex flex-col gap-1.5">
                <label class="text-xs font-bold uppercase tracking-wider text-text-sub dark:text-stone-400 ml-1">When do
                    you want it by?</label>
                <input required name="deadline_date" type="date"
                    class="w-full bg-white dark:bg-surface-dark border border-stone-200 dark:border-stone-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-secondary/20 focus:border-secondary outline-none transition-all text-text-main dark:text-white">
            </div>

            <!-- Description -->
            <div class="flex flex-col gap-1.5">
                <label
                    class="text-xs font-bold uppercase tracking-wider text-text-sub dark:text-stone-400 ml-1">Details</label>
                <textarea required name="description" rows="3" placeholder="Describe fully what you are looking for..."
                    class="w-full bg-white dark:bg-surface-dark border border-stone-200 dark:border-stone-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-secondary/20 focus:border-secondary outline-none transition-all placeholder:text-stone-400 text-text-main dark:text-white resize-none"></textarea>
            </div>

            <!-- Contact Section -->
            <div class="grid grid-cols-2 gap-4">
                <div class="flex flex-col gap-1.5">
                    <label
                        class="text-xs font-bold uppercase tracking-wider text-text-sub dark:text-stone-400 ml-1">Email</label>
                    <input name="contact_email" type="email" placeholder="Email"
                        value="{{ if .User }}{{ .User.Email }}{{ end }}"
                        class="w-full bg-white dark:bg-surface-dark border border-stone-200 dark:border-stone-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-secondary/20 focus:border-secondary outline-none transition-all placeholder:text-stone-400 text-text-main dark:text-white">
                </div>
                <div class="flex flex-col gap-1.5">
                    <label
                        class="text-xs font-bold uppercase tracking-wider text-text-sub dark:text-stone-400 ml-1">Phone/WhatsApp</label>
                    <input name="contact_phone" type="tel" placeholder="+1..."
                        class="w-full bg-white dark:bg-surface-dark border border-stone-200 dark:border-stone-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-secondary/20 focus:border-secondary outline-none transition-all placeholder:text-stone-400 text-text-main dark:text-white">
                </div>
            </div>

            <button type="submit"
                class="mt-2 w-full flex items-center justify-center gap-2 bg-secondary hover:bg-green-700 text-white font-bold h-12 rounded-xl transition-all active:scale-[0.98] shadow-lg shadow-green-500/20">
                <span class="material-symbols-outlined text-[20px]">campaign</span>
                Post Request
            </button>
        </form>
    </div>
</dialog>